<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Warp your mobile development"/><link rel="canonical" href="http://blog.warpfactor.io/posts/2017-11-08-RxFlow-Part1"/><meta name="twitter:url" content="http://blog.warpfactor.io/posts/2017-11-08-RxFlow-Part1"/><meta name="og:url" content="http://blog.warpfactor.io/posts/2017-11-08-RxFlow-Part1"/><title>RxFlow Part 1: In Theory | Warp your mobile development</title><meta name="twitter:title" content="RxFlow Part 1: In Theory | Warp your mobile development"/><meta name="og:title" content="RxFlow Part 1: In Theory | Warp your mobile development"/><meta name="description" content="This is a first article in a series that will be the heart of this blog for a while. I‚Äôm going to introduce RxFlow: a framework of my design implementing Reactive Flow Coordinator within iOS applications. RxFlow relies on RxSwift and is a project supported by the RxSwiftCommunity."/><meta name="twitter:description" content="This is a first article in a series that will be the heart of this blog for a while. I‚Äôm going to introduce RxFlow: a framework of my design implementing Reactive Flow Coordinator within iOS applications. RxFlow relies on RxSwift and is a project supported by the RxSwiftCommunity."/><meta name="og:description" content="This is a first article in a series that will be the heart of this blog for a while. I‚Äôm going to introduce RxFlow: a framework of my design implementing Reactive Flow Coordinator within iOS applications. RxFlow relies on RxSwift and is a project supported by the RxSwiftCommunity."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Warp your mobile development"/></head><body class="bg-white font-sans leading-normal tracking-normal"><div class="pb-16"><nav class="fixed z-10 bg-gray-900 p-4 mt-0 w-full overflow-auto scrolling-touch"><div class="container mx-auto flex items-center"><div class="flex-shrink-0 text-white font-extrabold"><a class="flex text-white text-base no-underline hover:text-white hover:no-underline" href="/"><span class="block md:hidden md:w-auto pl-1">üçè</span><span class="hidden md:block w-0 md:w-auto pl-1">Warp your mobile development</span></a></div><div class=" flex flex-no-wrap pl-4 text-sm"><ul class="list-reset flex justify-between items-center"><li class="mr-2"><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-2" href="/">HOME</a></li><li><a class="inline-block py-2 px-2 text-white no-underline hover:underline whitespace-no-wrap" href="/posts">MY POSTS</a></li></ul></div></div></nav></div><div class="text-center pt-16 md:pt-32"><p class="text-xs md:text-sm text-casper-blue font-bold">08 NOVEMBRE 2017<span class="text-gray-900 px-1">/</span><a href="/tags/open-source">OPEN SOURCE</a>, <a href="/tags/reactive-programming">REACTIVE PROGRAMMING</a></p><h1 class="font-bold break-normal text-3xl md:text-5xl max-w-6xl mx-auto">RxFlow Part 1: In Theory</h1></div><div class="container w-full max-w-6xl h-48 md:h-cover mx-auto bg-white bg-cover bg-center mt-8 sm:rounded" style="background-color: #465059; background-image:url('/Images/2017-11-08-RxFlow-Part1/RxFlow_Logo.png');"></div><div class="container max-w-5xl mx-auto md:-mt-32"><div class="mx-0 sm:mx-6"><main class="bg-white w-full p-8 md:p-24 text-gray-800 leading-normal"><article class="prose prose-sm sm:prose-xl break-words"><p>This is a first article in a series that will be the heart of this blog for a while. I‚Äôm going to introduce <strong>RxFlow</strong>: a framework of my design implementing Reactive Flow Coordinator within iOS applications. <strong>RxFlow</strong> is a project supported by the <a href="https://github.com/RxSwiftCommunity">RxSwiftCommunity</a>.</p><h1>The facts</h1><p>Regarding navigation within an iOS application, two choices are available:</p><ul><li>Use the builtin mechanism provided by Apple and Xcode: storyboard and segues</li><li>Implement a custom mechanism directly in the code</li></ul><p>The disadvantage of these two solutions:</p><ul><li>Builtin mechanism: navigation is relatively static and the storyboards are massive. The navigation code pollutes the UIViewControllers</li><li>Custom mechanism: code can be difficult to set up and can be complex depending on the chosen design pattern (Router, Coordinator)</li></ul><h1>The aim</h1><p><strong>RxFlow</strong> aims to:</p><ul><li>Promote the cutting of storyboards into atomic units to enable collaboration and reusability of UIViewControllers</li><li>Allow the presentation of a UIViewController in different ways according to the navigation context</li><li>Ease the implementation of dependency injection</li><li>Remove any navigation mechanism from UIViewControllers</li><li>Promote reactive programing</li><li>Express the navigation in a declarative way while addressing the majority of the navigation cases</li><li>Facilitate the cutting of an application into logical blocks of navigation</li></ul><h1>From Storyboard to Coordinator pattern</h1><p>As my experience grew as an iOS developper (as well as an Android or a Web app developer), I constantly faced the same doubts regarding navigation. For all other conception issues, there were plenty of patterns to address common architecture questions and separation of concerns needs (MVC, MVP, MVVM, VIPER, ‚Ä¶).</p><p>But I was torn appart as soon as navigation was to be designed:</p><ul><li>How do I use dependency injection with Storyboards/Segues ?</li><li>How do I control the flow of the application ?</li><li>How do I get rid of the navigation boilerplate code from the UIViewControllers ?</li></ul><p>As time went by, my conception of an iOS application went from MVC with one Storyboard, to MVC with multiple Storyboards, to finally reach what we could name one of the nowadays best practices: MVVM with <strong>Flow Coordinator</strong>. Which is perfectly fine because we can play with dependency injection, UIViewControllers reusibility, testability. I had the chance to apply this pattern to huge and complex applications in production. But in the end, there were still a couple of issues that bothered me:</p><ul><li>I always had to write the Coordinator pattern, again and again,</li><li>there were a lot of delegation patterns used to allow ViewModels to communicate back with Coordinators.</li><li>I began to look at the Redux pattern, especially the navigation state mechanism. We could have a global navigation state, exposed with a RxSwift Observables, and something listening to this state and driving the navigation. The only thing that I found disturbing was the uniqueness of this navigation state, and the uncontroled responsabilities it could have (as well as the massive data it could store)</li></ul><p>The idea that the navigation was only the reflexion of a state that could be modified step by step begun to emerge. A state that would be spread within the whole application structure, not stored in a single place, but unified by an observer that could react to it and drive the navigation as a consequence. Later in this article, these little states spreaded in the application are called the <strong>Steps</strong> and the observer is called the <strong>Coordinator</strong>.</p><p><strong>RxFlow</strong>&nbsp;is born from all that experience and addressed the two mains concerns that remained from the traditional; Coordinator pattern:</p><ul><li>the developper must no more write Coordinators, he only has to declare the navigation and the states it react to,</li><li>delegation is not needed anymore, since states are RxSwift Observable observed by the FlowCoordinator</li></ul><h1>The key principles</h1><p>To learn more about Coordinator pattern, I suggest you take a look at this article: <a href="http://khanlou.com/2015/10/coordinators-redux/">Coordinator Redux</a>.</p><p>Although this a very good architecture, the <strong>Coordinator</strong> pattern has some drawbacks:</p><ul><li>you have to write the coordination mechanism each time you bootstrap an application</li><li>there can be a lot of boilerplate code because of the delegation pattern that allows to communicate with Coordinators</li></ul><p>RxFlow is a reactive implementation of the Coordinator pattern. It has all the great features of this architecture, but introduces some improvements:</p><ul><li>makes the navigation more declarative</li><li>provides a built-in Coordinator that handles the navigation flows you've declared</li><li>uses reactive programming to address the communication with Coordinators issue</li></ul><p>There are 6 terms you have to be familiar with to understand RxFlow:</p><ul><li><strong>Flow</strong>: each Flow defines a navigation area within your application. This is the place where you declare the navigation actions (such as presenting a UIViewController or another Flow)</li><li><strong>Step</strong>: each Step is a navigation state in your application. Combinaisons of Flows and Steps describe all the possible navigation actions. A Step can even embed inner values (such as Ids, URLs, ‚Ä¶) that will be propagated to screens declared in the Flows</li><li><strong>Stepper</strong>: it can be anything that can emit Steps. Steppers will be responsible for triggering every navigation actions within the Flows</li><li><strong>Presentable</strong>: it is an abstraction of something that can be presented (basically UIViewController and Flow are Presentable). Presentables offer Reactive observables that the Coordinator will subscribe to in order to handle Flow Steps in a UIKit compliant way</li><li><strong>Flowable</strong>: it is a simple data structure that combines a Presentable and a stepper. It tells the Coordinator what will be the next thing that will produce new Steps in your Reactive mechanism</li><li><strong>Coordinator</strong>: once the developer has defined the suitable combinations of Flows and Steps representing the navigation possibilities, the job of the Coordinator is to mix these combinaisons in a consistent way.</li></ul><p>This first article just addresses the conceptual and theoretical aspect of this framework. The following articles will talk about <strong>RxFlow</strong>&nbsp;from a more technical point of view with code samples.</p><p>You can already browse the GitHub repo of <strong>RxFlow</strong>, it includes a demo application:&nbsp;<a href="https://github.com/RxSwiftCommunity/RxFlow">https://github.com/RxSwiftCommunity/RxFlow</a>.</p><p>Stay tuned.</p></article></main><div class="flex flex-wrap w-full items-center font-sans p-8 md:p-24"><div class="md:flex-1 flex"><img class="w-10 h-10 rounded-full mr-4" src="/Images/avatar.png" alt="Thibault Wittemberg"/><div class="flex-1"><p class="text-base font-bold text-base md:text-xl leading-none">Thibault Wittemberg</p><p class="text-gray-600 text-xs md:text-base">Mobile Solution Architect in Montreal üá®üá¶</p></div></div><div class="mt-8 md:mt-0 mx-auto md:mx-0 md:justify-end"><a class="bg-transparent border border-gray-500 hover:border-casper-blue text-xs text-gray-500 hover:text-casper-blue font-bold py-2 px-4 rounded-full" href="/tags">All tags</a></div></div></div></div><div class="bg-gray-200"><div class="container w-full max-w-6xl mx-auto px-2 py-8"><div class="grid grid-cols-1 sm:grid-cols-3 gap-12"><div class="w-full  py-6 flex flex-col flex-grow flex-shrink transform transition duration-200 ease-in-out hover:scale-105"><div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg"><a href="/posts/2018-03-24-ElegantlyChainingUiviewpropertyAnimators" class="flex flex-wrap no-underline hover:no-underline"><img src="/Images/2018-03-24-ElegantlyChainingUiviewpropertyAnimators/Animator_blog.png" class="h-64 w-full rounded-t object-cover"/><p class="w-full text-casper-blue text-xs font-medium pt-6 px-6">UIKIT, REACTIVE PROGRAMMING</p><div class="w-full font-bold text-2xl text-gray-900 px-6">Elegantly chaining UIViewPropertyAnimators</div><p class="text-gray-800 font-serif text-lg px-6 mb-5">Usually my posts are mostly about design patterns, software architectures (or RxFlow üòÄ), but this time it will be different and frankly I didn't think I would write about this kind of topic. But I think I have something cool to share: so today we are going to talk about Animations with Swift.</p></a></div><div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6"><div class="flex items-center justify-between"><img class="w-8 h-8 rounded-full mr-4 avatar" src="/Images/avatar.png" alt="Thibault Wittemberg"/><p class="text-gray-600 text-xs md:text-sm">6 MIN READ</p></div></div></div><div class="w-full  py-6 flex flex-col flex-grow flex-shrink transform transition duration-200 ease-in-out hover:scale-105"><div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg"><a href="/posts/2018-04-02-GlanceAtConditionalConformance" class="flex flex-wrap no-underline hover:no-underline"><img src="/Images/2018-04-02-GlanceAtConditionalConformance/swift4.1.png" class="h-64 w-full rounded-t object-cover"/><p class="w-full text-casper-blue text-xs font-medium pt-6 px-6">LANGUAGE</p><div class="w-full font-bold text-2xl text-gray-900 px-6">A glance at conditional conformance</div><p class="text-gray-800 font-serif text-lg px-6 mb-5">Swift 4.1 is available since a few days now and it comes with an interesting feature: Conditional conformance. This is a new tool for achieving Protocol Oriented Programming as well as API designing. This post is a quick take on this brand new technic and will be followed for sure by deep dive posts in a few weeks.</p></a></div><div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6"><div class="flex items-center justify-between"><img class="w-8 h-8 rounded-full mr-4 avatar" src="/Images/avatar.png" alt="Thibault Wittemberg"/><p class="text-gray-600 text-xs md:text-sm">7 MIN READ</p></div></div></div><div class="w-full  py-6 flex flex-col flex-grow flex-shrink transform transition duration-200 ease-in-out hover:scale-105"><div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg"><a href="/posts/2018-01-02-ProtocolOrientedTipsMvvm" class="flex flex-wrap no-underline hover:no-underline"><img src="/Images/2018-01-02-ProtocolOrientedTipsMvvm/POP-MVVM.png" class="h-64 w-full rounded-t object-cover"/><p class="w-full text-casper-blue text-xs font-medium pt-6 px-6">TIPS, ARCHITECTURE</p><div class="w-full font-bold text-2xl text-gray-900 px-6">Protocol Oriented Tips For MVVM in Swift</div><p class="text-gray-800 font-serif text-lg px-6 mb-5">Hi folks. Lately MVVM has become some sort of standard as an architecture for iOS apps. It offers a good separation of concerns, a good way to format data and great view binding mechanisms with frameworks such as RxSwift. In this post I will give few tips I use to ease the implementation of this pattern.</p></a></div><div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6"><div class="flex items-center justify-between"><img class="w-8 h-8 rounded-full mr-4 avatar" src="/Images/avatar.png" alt="Thibault Wittemberg"/><p class="text-gray-600 text-xs md:text-sm">7 MIN READ</p></div></div></div></div></div></div><div id="disqus_thread"></div><script src="/disqus.js"></script><noscript>Please enable JavaScript to view the comments</noscript><footer class="bg-gray-900"><div class="container max-w-6xl mx-auto flex items-center px-2 pt-2 pb-8"><div class="w-full mx-auto flex flex-wrap items-center"><div class="flex w-full md:w-1/2 justify-center md:justify-start text-white font-extrabold"><p><a class="text-gray-900 no-underline hover:text-gray-900 hover:no-underline" href="#"><span class="text-base text-gray-200">Warp your mobile development</span></a></p></div><div class="flex w-full pt-2 content-center justify-between md:w-1/2 md:justify-end"><ul class="list-reset flex justify-center flex-1 md:flex-none items-center"><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-3 text-sm" href="/">Latest Posts</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-3 text-sm" href="https://github.com/JohnSundell/Publish">Publish</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-3 text-sm" href="https://ghost.org">Ghost</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline px-3 text-sm" href="/feed.rss"><svg class="fill-current h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg></a></li></ul></div></div></div></footer></body></html>